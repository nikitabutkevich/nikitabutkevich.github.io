!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var i=class{};var o=class{fillInfoToMyPage(e){var t=document.getElementById("user-page-name"),n=document.getElementById("user-page-photo"),i=document.getElementById("user-page-online"),o=document.getElementById("user-page-bdate"),r=document.getElementById("user-page-friends"),a=document.getElementById("user-page-photo"),s=document.getElementById("user-page-video"),d=document.getElementById("user-button-send-post");t.innerText=e.first_name+" "+e.last_name,n.setAttribute("src",e.photo_200_orig),i.innerText=this.userOnline(e.online),o.innerText=e.bdate,r.innerText=e.counters.friends,a.innerText=e.counters.photos,s.innerText=e.counters.videos,d.setAttribute("name",e.id)}fillInfoToFriendPage(e){var t=document.getElementById("friend-page-name"),n=document.getElementById("friend-page-photo"),i=document.getElementById("friend-page-online"),o=document.getElementById("friend-page-bdate"),r=document.getElementById("friend-page-friends"),a=document.getElementById("friend-page-photo"),s=document.getElementById("friend-page-video");document.getElementById("freind-button-send-post"),t.innerText=e.first_name+" "+e.last_name,n.setAttribute("src",e.photo_200_orig),i.innerText=this.userOnline(e.online),o.innerText=e.bdate,r.innerText=e.counters.friends,a.innerText=e.counters.photos,s.innerText=e.counters.videos}writeListFriends(e){e.forEach(e=>{var t=document.getElementById("list-friends"),n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("img"),r=document.createElement("a"),a=document.createElement("span"),s=document.createElement("p");n.setAttribute("class","list-friend__item"),n.setAttribute("value",e.id),i.setAttribute("value",e.id),o.setAttribute("value",e.id),r.setAttribute("value",e.id),s.setAttribute("value",e.id),a.setAttribute("value",e.id),i.setAttribute("class","list-friend__item-name"),s.innerText="г. "+e.city.title,o.setAttribute("src",e.photo_50),o.setAttribute("class","list-friend__item-photo"),r.setAttribute("target","_blank"),r.innerText=e.first_name+" "+e.last_name+" ",a.innerText=this.userOnline(e.online),n.appendChild(o),i.appendChild(r),i.appendChild(a),i.appendChild(s),n.appendChild(i),t.appendChild(n)})}userOnline(e){return 1===e?"Онлайн":"Оффлайн"}writeWall(e){e.forEach(e=>{"attachments"in e?this.attachmentPost(e):"copy_history"in e?this.rePost(e):this.writePostWithOnlyText(e)})}attachmentPost(e){"photo"in e.attachments[0]&&this.writePost(e.attachments[0].photo.photo_75,e)}rePost(e){"attachments"in e.copy_history[0]&&this.writeRePost(e)}writePost(e,t){var n=document.getElementById("user-feed"),i=document.createElement("div"),o=document.createElement("span"),r=document.createElement("span"),a=document.createElement("span"),s=document.createElement("div"),d=document.createElement("div"),c=document.createElement("img"),l=document.createElement("p");i.setAttribute("class","my-post__item"),d.setAttribute("class","my-post__item-feed-back"),s.setAttribute("class","my-post__item-attachments"),l.setAttribute("class","my-post__item-text"),o.innerText=" Likes "+t.likes.count,r.innerText=" Commnet "+t.comments.count,a.innerText=" Repost "+t.reposts.count,c.setAttribute("src",e),i.appendChild(l),s.appendChild(c),d.appendChild(o),d.appendChild(r),d.appendChild(a),i.appendChild(s),i.appendChild(d),n.appendChild(i)}writeRePost(e){"photo"in e.copy_history[0].attachments[0]&&this.writePost(e.copy_history[0].attachments[0].photo.photo_604,e)}writePostWithOnlyText(e){var t=document.getElementById("user-feed"),n=document.createElement("div"),i=document.createElement("span"),o=document.createElement("span"),r=document.createElement("span"),a=document.createElement("div"),s=document.createElement("p");n.setAttribute("class","my-post__item"),a.setAttribute("class","my-post__item-feed-back"),s.setAttribute("class","my-post__item-text"),i.innerText=" Likes "+e.likes.count,o.innerText=" Commnet "+e.comments.count,r.innerText=" Repost "+e.reposts.count,s.innerText=e.text,n.appendChild(s),a.appendChild(i),a.appendChild(o),a.appendChild(r),n.appendChild(a),t.appendChild(n)}};var r=class{userOnline(e){return 1===e?"On":"Off"}};var a=class{async getData(e,t){let n=await $.ajax({url:"https://api.vk.com/method/"+e+"?&"+t+"&v=5.52&access_token=ed53c3f022e2812fa9058c6397a34c23c57cce85f3187a0cf4065702eca50e8fcfc6238a3e6495d5bcd04",method:"GET",dataType:"JSONP"});return n.response?n.response.items:"nothing"}async getDataUserInfo(e,t){let n=await $.ajax({url:"https://api.vk.com/method/users.get?&"+e+t+"&fields=online,followers_count,photo_200_orig,bdate,city,counters&v=5.52&access_token=ed53c3f022e2812fa9058c6397a34c23c57cce85f3187a0cf4065702eca50e8fcfc6238a3e6495d5bcd04",method:"GET",dataType:"JSONP"});return n.response?n.response[0]:"nothing"}addNewPost(e,t){$.ajax({url:"https://api.vk.com/method/wall.post?&owner_id="+e+"&message="+t+"&v=5.52&access_token=ed53c3f022e2812fa9058c6397a34c23c57cce85f3187a0cf4065702eca50e8fcfc6238a3e6495d5bcd04",method:"POST",dataType:"JSONP",error:function(e){alert(e)},success:function(e){console.log(e)}})}};(function(){new i;const e=new a,t=new o;new r,$(".my-friends").hide(),$("#user-page").hide(),$("#friend-page").hide(),$("#my-page").on("click",()=>{$(".intro-window").hide(),$("#friend-page").hide(),$("#user-page").show()}),$("#my-friends").on("click",()=>{$(".intro-window").hide(),$(".my-friends").show()}),$(document).on("click","#my-page",async n=>{var i=await e.getDataUserInfo(),o=await e.getData("wall.get","count=10");t.fillInfoToMyPage(i),t.writeWall(o)}),$(document).on("click","#my-friends",async n=>{var i=await e.getData("friends.get","fields=bdate,city,photo_100,contacts,sex,city,photo_50,photo_200_orig,online");t.writeListFriends(i)}),$(document).on("click",".list-friend__item",async n=>{var i=$(n.target).attr("value"),o=await e.getDataUserInfo("user_ids=",i),r=await e.getData("wall.get","owner_id="+i);$(".my-friends").hide(),t.fillInfoToMyPage(o),t.writeWall(r),$("#user-page").show()}),$(document).on("click",".button-send-new-post",async n=>{var i=$(n.target).attr("name"),o=$("#send-new-post").val(),r=await e.addNewPost(i,o);console.log(r),t.writeFriendWall(r)})})()}]);
